<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Lista de Animes y Mangas de APRIL! üíñ</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            color: #333;
            margin: 0;
            padding: 20px;
            transition: all 0.3s;
        }

        /* Base responsive */
        body {
            font-family: 'Comic Sans MS', cursive;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            color: #333;
            margin: 0;
            padding: 20px;
            transition: all 0.3s;
            min-height: 100vh;
        }

        /* Mejoras para m√≥viles */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        input[type="text"], 
        input[type="number"],
        textarea {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            border: 2px solid #ff6b6b;
            border-radius: 8px;
            font-size: 16px;
        }

        button {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            font-size: 16px;
        }

        /* Modo Noche */
        body.night-mode {
            background: linear-gradient(135deg, #1a1a1a, #333);
            color: #e0e0e0;
        }

        /* Estrellas responsive */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 2s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* Logros responsive */
        #achievements {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .achievement {
            background: #ffd700;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            text-align: center;
            transition: transform 0.2s;
        }

        /* Corazones secretos responsive */
        .secret-heart {
            position: absolute;
            width: 30px;
            height: 30px;
            background-size: cover;
            cursor: pointer;
            transition: transform 0.3s;
        }

        /* Elementos flotantes responsive */
        #love-message {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #fff5f5;
            padding: 15px;
            border-radius: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            animation: float 3s ease-in-out infinite;
            font-size: 14px;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Responsive sections */
        .section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        /* Mobile-specific styles */
        @media (max-width: 600px) {
            h1 {
                font-size: 24px;
            }
            
            .section {
                padding: 15px;
            }
            
            #loveButton {
                width: 100%;
                margin: 10px 0;
            }
            
            .item {
                padding: 12px;
            }
            
            .delete-btn {
                font-size: 12px;
                padding: 2px 6px;
            }
            
            #secretHeartsContainer {
                display: none;
            }
        }

        /* Modo Noche */
        body.night-mode {
            background: linear-gradient(135deg, #1a1a1a, #333);
            color: #e0e0e0;
        }

        /* Estrellas animadas */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 2s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* Logros */
        #achievements {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .achievement {
            background: #ffd700;
            border-radius: 10px;
            padding: 10px;
            flex: 1 1 calc(33% - 20px);
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            text-align: center;
        }

        /* Corazones secretos */
        .secret-heart {
            position: absolute;
            width: 20px;
            height: 20px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="red" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
            background-size: cover;
            cursor: pointer;
            transition: transform 0.3s;
        }

        #love-message {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #fff5f5;
            padding: 15px;
            border-radius: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        h1 {
            color: #ff6b6b;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        input[type="text"], textarea, input[type="number"] {
            width: calc(100% - 22px);
            padding: 10px;
            margin: 5px 0;
            border: 2px solid #ff6b6b;
            border-radius: 5px;
        }

        button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.2s;
            margin: 5px;
        }

        button:hover {
            transform: scale(1.05);
        }

        #loveButton {
            background: #ff9a9e;
            display: block;
            margin: 20px auto;
        }

        .item-list {
            list-style: none;
            padding: 0;
        }

        .item {
            background: #fff5f5;
            margin: 10px 0;
            padding: 15px;
            border-radius: 10px;
            position: relative;
        }

        .delete-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 3px 8px;
            border-radius: 3px;
            cursor: pointer;
        }

        /* Estilos para Modo Noche */
        body.night-mode .section {
            background: #444;
        }

        body.night-mode #love-message {
            background: #333;
        }

        body.night-mode input,
        body.night-mode textarea {
            background: #555;
            color: white;
        }

        body.night-mode button {
            background: #404242;
        }
    </style>
</head>
<body>
    <!-- Bot√≥n Modo Noche -->
    <div style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
        <button onclick="toggleNightMode()">üåô Modo Noche</button>
    </div>

    <div class="container">
        <h1>‚ú® APRIL's Anime & Manga Tracker ‚ú®</h1>
        
        <div id="love-message">‚ù§Ô∏è Pablo te ama, nunca lo olvides ‚ù§Ô∏è</div>

        <!-- Secci√≥n de Animes Vistos -->
        <div class="section">
            <h2>Animes que has visto üé¨</h2>
            <input type="text" id="watchedInput" placeholder="Nombre del anime...">
            <textarea id="watchedComment" placeholder="Comentario o recuerdo especial..."></textarea>
            <button onclick="addItem('watched')">Agregar Anime Visto</button>
            <ul id="watchedList" class="item-list"></ul>
        </div>

        <!-- Secci√≥n de Animes Pendientes -->
        <div class="section">
            <h2>Animes por ver üì∫</h2>
            <input type="text" id="pendingInput" placeholder="Nombre del anime...">
            <textarea id="pendingComment" placeholder="¬øPor qu√© quieres verlo?"></textarea>
            <button onclick="addItem('pending')">Agregar a Pendientes</button>
            <ul id="pendingList" class="item-list"></ul>
        </div>

        <!-- Secci√≥n de Mangas/Libros -->
        <div class="section">
            <h2>Mangas y Libros üìñ</h2>
            <input type="text" id="readInput" placeholder="T√≠tulo...">
            <textarea id="readComment" placeholder="Impresiones o citas favoritas"></textarea>
            <button onclick="addItem('read')">Agregar Lectura</button>
            <ul id="readList" class="item-list"></ul>
        </div>

        <!-- Sistema de Logros -->
        <div class="section">
            <h2>‚ú® Logros Desbloqueados ‚ú®</h2>
            <div id="achievements"></div>
        </div>

        <!-- Modo Marat√≥n -->
        <div class="section">
            <h2>üì∫ Modo Marat√≥n</h2>
            <input type="number" id="episodes" placeholder="N¬∫ de episodios">
            <input type="number" id="duration" placeholder="Minutos por episodio">
            <button onclick="startMarathon()">Calcular Marat√≥n</button>
            <div id="marathonResult"></div>
        </div>

        <button id="loveButton" onclick="showLoveMessage()">‚ù§Ô∏è Mensaje Especial ‚ù§Ô∏è</button>
        <button onclick="exportLists()" style="background: #3e3f3f; margin: 10px;">üíæ Exportar Listas</button>

        <div class="section" style="text-align: center;">
            <p>Hecho con amor por Pablo ‚ù§Ô∏è</p>
        </div>
    </div>

    <!-- Contenedor de Corazones Secretos -->
    <div id="secretHeartsContainer"></div>

    <!-- Estrellas para Modo Noche -->
    <div class="stars" id="stars"></div>

    <script>
        // Variables
        let achievements = [];
        let foundHearts = 0;
        const secretMessages = [
            "¬°Encontraste un coraz√≥n oculto! Pablo admira tu atenci√≥n al detalle üíñ",
            "Cada coraz√≥n encontrado es un 'te extra√±o' de Pablo üåü",
            "Pablo dice: 'Eres tan curiosa como mi gato favorito üò∫'",
            "¬°Logro secreto! Pablo quiere compartir contigo su animal favorito üé¨",
            "¬°Has encontrado todos! Pablo est√° m√°s enamorado que nunca üå∏"
        ];

        // Funciones Principales
        function addItem(type) {
            const input = document.getElementById(`${type}Input`).value;
            const comment = document.getElementById(`${type}Comment`).value;
            
            if (input) {
                const list = document.getElementById(`${type}List`);
                const item = document.createElement('li');
                item.className = 'item';
                item.innerHTML = `
                    <strong>${input}</strong>
                    ${comment ? `<p>"${comment}"</p>` : ''}
                    <button class="delete-btn" onclick="deleteItem(this)">Eliminar</button>
                `;
                list.appendChild(item);
                saveList();
                checkAchievements();
            }
        }

        function deleteItem(button) {
            const listItem = button.parentElement;
            listItem.remove();
            saveList();
            checkAchievements();
        }

        // Sistema de Guardado
        function saveList() {
            const data = {
                watched: getItems('watchedList'),
                pending: getItems('pendingList'),
                read: getItems('readList')
            };
            localStorage.setItem('animeTracker', JSON.stringify(data));
        }

        function getItems(listId) {
            const list = document.getElementById(listId);
            return Array.from(list.children).map(item => ({
                text: item.querySelector('strong').innerText,
                comment: item.querySelector('p')?.innerText || ''
            }));
        }

        function loadLists() {
            const data = JSON.parse(localStorage.getItem('animeTracker'));
            if (data) {
                Object.keys(data).forEach(type => {
                    const list = document.getElementById(`${type}List`);
                    data[type].forEach(item => {
                        const li = document.createElement('li');
                        li.className = 'item';
                        li.innerHTML = `
                            <strong>${item.text}</strong>
                            ${item.comment ? `<p>"${item.comment}"</p>` : ''}
                            <button class="delete-btn" onclick="deleteItem(this)">Eliminar</button>
                        `;
                        list.appendChild(li);
                    });
                });
            }
        }

        // Logros
        function checkAchievements() {
            const watched = getItems('watchedList').length;
            const pending = getItems('pendingList').length;
            const read = getItems('readList').length;

            const levels = [
                { type: 'watched', threshold: 3, badge: 'ü•â Otaku Novato' },
                { type: 'watched', threshold: 10, badge: 'ü•à Otaku Medio' },
                { type: 'watched', threshold: 20, badge: 'ü•á Otaku Legendario' },
                { type: 'read', threshold: 5, badge: 'üìö Master del Manga' },
                { type: 'pending', threshold: 10, badge: '‚è≥ Collector de Animes' }
            ];

            levels.forEach(level => {
                if (eval(level.type) >= level.threshold && 
                    !achievements.some(a => a.badge === level.badge)) {
                    achievements.push({ badge: level.badge, message: `¬°Felicidades! ${level.badge}` });
                    showAchievement(level.badge);
                }
            });

            updateAchievementsUI();
        }

        function showAchievement(badge) {
            const toast = document.createElement('div');
            toast.className = 'achievement';
            toast.innerHTML = `
                <img src="https://img.icons8.com/emoji/48/000000/trophy.png"  width="30">
                <span>${badge}</span>
            `;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        function updateAchievementsUI() {
            const container = document.getElementById('achievements');
            container.innerHTML = achievements.map(a => 
                `<div class="achievement">
                    <img src="https://img.icons8.com/emoji/48/000000/trophy.png"  width="30">
                    <span>${a.badge}</span>
                </div>`).join('');
        }

        // Modo Marat√≥n
        function startMarathon() {
            const episodes = parseInt(document.getElementById('episodes').value) || 0;
            const duration = parseInt(document.getElementById('duration').value) || 0;
            
            if (episodes > 0 && duration > 0) {
                const total = episodes * duration;
                const hours = Math.floor(total / 60);
                const minutes = total % 60;
                
                document.getElementById('marathonResult').innerHTML = `
                    <p>¬°Marat√≥n lista! ‚è±Ô∏è</p>
                    <p>${episodes} episodios √ó ${duration} min = ${hours}h ${minutes}min</p>
                `;
            }
        }

        // Modo Noche
        function toggleNightMode() {
            document.body.classList.toggle('night-mode');
            const stars = document.getElementById('stars');
            if (document.body.classList.contains('night-mode')) {
                createStars(100);
                localStorage.setItem('nightMode', true);
            } else {
                stars.innerHTML = '';
                localStorage.removeItem('nightMode');
            }
        }

        function createStars(quantity) {
            const container = document.getElementById('stars');
            for (let i = 0; i < quantity; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.top = `${Math.random() * 100}%`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.animationDelay = `${Math.random() * 2}s`;
                container.appendChild(star);
            }
        }

        // Corazones Secretos
        function createSecretHearts() {
            const container = document.getElementById('secretHeartsContainer');
            for (let i = 0; i < 5; i++) {
                const heart = document.createElement('div');
                heart.className = 'secret-heart';
                heart.style.top = `${Math.random() * 100}%`;
                heart.style.left = `${Math.random() * 100}%`;
                heart.onclick = () => revealSecret(heart);
                container.appendChild(heart);
            }
        }

        function revealSecret(heart) {
            const index = Math.min(foundHearts, secretMessages.length - 1);
            alert(`‚ù§Ô∏è ${secretMessages[index]} ‚ù§Ô∏è`);
            heart.remove();
            foundHearts++;
        }

        // Exportar Listas
        function exportLists() {
            const data = JSON.parse(localStorage.getItem('animeTracker')) || {};
            const date = new Date().toISOString().slice(0,10);
            const fileName = `AnimeTracker_${date}.json`;
            const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = fileName;
            link.click();
            URL.revokeObjectURL(link.href);
        }

        // Mensajes de Amor
        function showLoveMessage() {
            const messages = [
                "Eres la Sailor Moon de mi coraz√≥n",
                "Mi amor por ti es m√°s grande que el universo de Dragon Ball",
                "Eres mi waifu favorita en todo el mundo",
                "Contigo quiero vivir mi propio romance de shojo",
                "Eres m√°s dulce que un mochi de Hello Kitty"
            ];
            const randomMsg = messages[Math.floor(Math.random() * messages.length)];
            alert(`üíå ${randomMsg} üíå`);
        }

        // Inicializaci√≥n
        function init() {
            loadLists();
            checkAchievements();
            createSecretHearts();
            
            if (localStorage.getItem('nightMode')) {
                toggleNightMode();
            }
        }

        init();
    </script>
</body>
</html>